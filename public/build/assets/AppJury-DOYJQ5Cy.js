import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{l as i,c as T,o as U,w as o,b as l,a as v,i as d,t as $,z as x,A as P}from"./app-BOimrL6G.js";const B={data:()=>({menu:!1,dialog:!1,headers:[{text:"Id",align:"left",sortable:!1,value:"id"},{text:"Titulo",value:"title"},{text:"A침o",value:"year"},{text:"Entidad",value:"entity"},{text:"Accion",align:"left",sortable:!1,value:"action"}],items:[{text:"Dashboard",disabled:!1,href:"/dashboard"},{text:"Proyectos",disabled:!1,href:"/dashboard/project"},{text:"Participaci칩n como Jurado",disabled:!0,href:"/dashboard/project/jury"}],jurys:[],editedIndex:-1,editedItem:{title:"",year:"",entity:"",people:""},defaultItem:{title:"",year:"",entity:"",people:""},search:"",valid:!0,titleRules:[t=>!!t||"Titulo es requirido"],yearRules:[t=>!!t||"A침o es requerido"],entityRules:[t=>!!t||"Entidad promotora es requerida"],peopleRules:[t=>/^[A-Za-z침치칠칤칩칰칌츼칄칈칍칔. ]*$/.test(t)||"Nombre de Personas dirigidas validos"],lazy:!1}),computed:{formTitle(){return this.editedIndex===-1?"Nuevo Item":"Editar Item"}},watch:{dialog(t){t||this.close()}},mounted(){this.initialize()},methods:{initialize(){this.jurys=[{id:0,title:"APLICATIVO MOVIL PARA LA GESTION DE LOS PROCESOS JUDICIALES EN UNA OFICINA DE ABOGADOS INDEPENDIENTES.",created_at:"2019-10-11 03:09:46",updated_at:"2019-10-11 03:09:46",year:"2017-01",entity:"Universidad Popular del Cesar. ",people:"Kevin Luis Florez Lozada y Ricardo Andr칠s Sanchez Atuesta."}],this.axios.get("/api/jury").then(t=>{this.jurys=this.jurys.concat(t.data)}).catch(t=>{console.log(t)})},editItem(t){this.editedIndex=this.jurys.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem(t){const e=this.jurys.indexOf(t);Swal.fire({title:"Est치s seguro?",html:`Eliminar <b>${t.title}</b>, No podr치s revertir esto!`,type:"warning",showCancelButton:!0,confirmButtonColor:"#424242",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar!"}).then(n=>{console.log("item.id",t.id),n.value&&axios.delete(`/api/jury/${t.id}`).then(u=>{Swal.fire("Eliminado!","Eliminado correctamente.","success"),this.jurys.splice(e,1)}).catch(u=>{Swal.fire("Oops...","Algo sali칩 mal!"+u,"error")})})},close(){this.dialog=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},save(){if(this.validate())if(this.editedIndex>-1)this.edit();else{const t=this.editedItem;axios.post("/api/jury",t).then(e=>{const n=e.data;this.jurys.push(n),Swal.fire("Buen trabajo! 游땎","Registro Exitoso! ","success")}).catch(e=>{console.error(e)}),this.close()}else Swal.fire({type:"error",title:"Oops...",text:"Campos no validados!"})},edit(){const t=this.editedItem,e=this.editedIndex,n=this.editedItem;axios.put(`/api/jury/${this.jurys[e].id}`,t).then(u=>{Object.assign(this.jurys[e],n),Swal.fire("Buen trabajo!","Editado correctamente!","success"),this.close()}).catch(u=>{Swal.fire({type:"error",title:"Oops...",text:"Algo sali칩 mal!"})})},validate(){return this.$refs.form.validate()?!0:(console.log("fallo la validacion"),!1)},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()}}};function D(t,e,n,u,L,r){const g=i("v-breadcrumbs"),m=i("v-icon"),s=i("v-btn"),c=i("v-toolbar-title"),V=i("v-divider"),f=i("v-text-field"),b=i("v-toolbar"),C=i("v-data-table"),I=i("v-card"),k=i("v-toolbar-items"),p=i("v-col"),j=i("v-date-picker"),w=i("v-menu"),E=i("v-textarea"),A=i("v-row"),S=i("v-form"),O=i("v-container"),_=i("v-card-text"),R=i("v-card-actions"),h=i("v-dialog"),N=i("v-app");return U(),T(N,null,{default:o(()=>[l(g,{items:t.items},null,8,["items"]),l(I,null,{default:o(()=>[l(b,{dark:"",flat:""},{default:o(()=>[l(s,{icon:"",onClick:e[0]||(e[0]=a=>t.$router.push({name:"project/main"}))},{default:o(()=>[l(m,null,{default:o(()=>e[14]||(e[14]=[d("mdi-arrow-left")])),_:1})]),_:1}),l(c,null,{default:o(()=>e[15]||(e[15]=[d("Participaci칩n como Jurado de Tesis ")])),_:1}),l(V,{class:"mx-4",inset:"",vertical:""}),e[17]||(e[17]=v("div",{class:"flex-grow-1"},null,-1)),l(f,{"max-width":"200",modelValue:t.search,"onUpdate:modelValue":e[1]||(e[1]=a=>t.search=a),"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),l(s,{icon:"",onClick:e[2]||(e[2]=a=>t.dialog=!t.dialog)},{default:o(()=>[l(m,null,{default:o(()=>e[16]||(e[16]=[d("mdi-plus-circle")])),_:1})]),_:1})]),_:1}),l(C,{search:t.search,headers:t.headers,items:t.jurys,class:"elevation-1"},{"item.action":o(({item:a})=>[l(m,{small:"",class:"mr-2",onClick:y=>r.editItem(a)},{default:o(()=>e[18]||(e[18]=[d(" mdi-pencil ")])),_:2},1032,["onClick"]),l(m,{small:"",onClick:y=>r.deleteItem(a)},{default:o(()=>e[19]||(e[19]=[d(" mdi-delete ")])),_:2},1032,["onClick"])]),"no-data":o(()=>[l(s,{color:"primary",onClick:r.initialize},{default:o(()=>e[20]||(e[20]=[d("Reset")])),_:1},8,["onClick"])]),_:1},8,["search","headers","items"])]),_:1}),l(h,{modelValue:t.dialog,"onUpdate:modelValue":e[13]||(e[13]=a=>t.dialog=a),fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},{default:o(()=>[l(I,null,{default:o(()=>[l(b,{dark:""},{default:o(()=>[l(s,{icon:"",dark:"",onClick:e[3]||(e[3]=a=>t.dialog=!t.dialog)},{default:o(()=>[l(m,null,{default:o(()=>e[21]||(e[21]=[d("mdi-close")])),_:1})]),_:1}),l(c,{class:"headline"},{default:o(()=>[d($(r.formTitle),1)]),_:1}),e[23]||(e[23]=v("div",{class:"flex-grow-1"},null,-1)),l(k,null,{default:o(()=>[l(s,{text:"",disabled:!t.valid,class:"mr-4",onClick:r.validate},{default:o(()=>e[22]||(e[22]=[d(" Registrar ")])),_:1},8,["disabled","onClick"])]),_:1})]),_:1}),l(_,null,{default:o(()=>[l(O,{fluid:""},{default:o(()=>[l(S,{ref:"form",modelValue:t.valid,"onUpdate:modelValue":e[12]||(e[12]=a=>t.valid=a),"lazy-validation":t.lazy},{default:o(()=>[l(A,null,{default:o(()=>[l(p,{cols:"12",sm:"6",md:"4"},{default:o(()=>[l(f,{clearable:"",modelValue:t.editedItem.title,"onUpdate:modelValue":e[4]||(e[4]=a=>t.editedItem.title=a),rules:t.titleRules,label:"Titulo",required:""},null,8,["modelValue","rules"])]),_:1}),l(p,{cols:"12",sm:"6",md:"4"},{default:o(()=>[l(f,{clearable:"",modelValue:t.editedItem.entity,"onUpdate:modelValue":e[5]||(e[5]=a=>t.editedItem.entity=a),rules:t.entityRules,label:"Entidad promotora",required:""},null,8,["modelValue","rules"])]),_:1}),l(p,{cols:"12",sm:"6",md:"4"},{default:o(()=>[l(w,{ref:"menu",modelValue:t.menu,"onUpdate:modelValue":e[10]||(e[10]=a=>t.menu=a),"close-on-content-click":!1,"return-value":t.editedItem.year,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},{activator:o(({on:a})=>[l(f,x({modelValue:t.editedItem.year,"onUpdate:modelValue":e[6]||(e[6]=y=>t.editedItem.year=y),rules:t.yearRules,label:"Fecha",readonly:""},P(a)),null,16,["modelValue","rules"])]),default:o(()=>[l(j,{modelValue:t.editedItem.year,"onUpdate:modelValue":e[9]||(e[9]=a=>t.editedItem.year=a),type:"month",locale:"es","no-title":"",scrollable:""},{default:o(()=>[e[26]||(e[26]=v("div",{class:"flex-grow-1"},null,-1)),l(s,{text:"",color:"primary",onClick:e[7]||(e[7]=a=>t.menu=!1)},{default:o(()=>e[24]||(e[24]=[d("Cancel")])),_:1}),l(s,{text:"",color:"primary",onClick:e[8]||(e[8]=a=>t.$refs.menu.save(t.editedItem.year))},{default:o(()=>e[25]||(e[25]=[d("OK")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1}),l(p,{cols:"12"},{default:o(()=>[l(E,{clearable:"",modelValue:t.editedItem.people,"onUpdate:modelValue":e[11]||(e[11]=a=>t.editedItem.people=a),rules:t.peopleRules,label:"Personas orientadas"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},8,["modelValue","lazy-validation"])]),_:1})]),_:1}),l(R,null,{default:o(()=>[e[30]||(e[30]=v("div",{class:"flex-grow-1"},null,-1)),l(s,{color:"warning",class:"mr-4",onClick:r.close},{default:o(()=>e[27]||(e[27]=[d(" Cancelar ")])),_:1},8,["onClick"]),l(s,{color:"error",class:"mr-4",onClick:r.reset},{default:o(()=>e[28]||(e[28]=[d(" Reiniciar ")])),_:1},8,["onClick"]),l(s,{disabled:!t.valid,color:"success",class:"mr-4",onClick:r.save},{default:o(()=>e[29]||(e[29]=[d(" Guardar ")])),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const F=z(B,[["render",D]]);export{F as default};
