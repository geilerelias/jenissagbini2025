import{P}from"./PictureInput-CkvSAKg-.js";import{_ as R}from"./AppLayout-B7EUQuuS.js";import{_ as S}from"./Breadcrumbs-DZKACuQP.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{l as t,c as k,o as b,w as a,b as e,a as I,i as c,f as M,F as H,j as J,t as x}from"./app-BOimrL6G.js";import"./Logo-C4qPAGx8.js";const K={components:{AppLayout:R,BreadCrumbs:S,"picture-input":P},props:["data"],data(){return{isUploadImage:!1,itemTemp:null,image:null,hasUrl:null,dialog:!1,panel:[],viewAll:!1,name:"01-example",content:"",changedImage:!1,items:[{text:"Dashboard",disabled:!1,href:"/dashboard"},{text:"¿Quién soy?",disabled:!0,href:"#"}]}},created(){this.initialize()},methods:{dimensionar(o){console.log("intento cambiar el tamaño");var n=document.getElementById(o);n.style.width="100vh",console.log(n)},add(){var o={id:"",image:"",name:"",title:"",content:"",icon:""};axios.post("/about",o).then(n=>{this.data.push(o),console.log(n.data),this.$swal("Buen trabajo!","Iten adiccionado de manera exitosa!","success")}).catch(n=>{this.$swal("Lo sentimos!","Algo ha ido mal!","error")})},edit(o){var n=this.data.indexOf(o),i=document.getElementById(`imagen${o.id}`).files[0];console.log(o.image);var s=new FormData;i!==void 0?s.append("image",i):s.append("image",o.image.replace("/storage/","")),s.append("image",o.image),console.log("image",o.image),s.append("title",o.title),console.log("title: ",o.title),s.append("name",o.name),console.log("name: ",o.name),s.append("icon",o.icon),console.log("icon: ",o.icon),s.append("content",o.content),console.log("content: ",o.content),console.log("enviado: ",s),axios.post(`/about/update/${o.id}`,s).then(d=>{console.log("data: ",d.data);var u=d.data;i=void 0,console.log("item ",this.data[n]),this.data[n].image=`/storage/${u.image}`,console.log("data ",this.data),this.$swal("Buen trabajo!","Información modificada con éxito!","success")}).catch(d=>{this.$swal("Lo sentimos!","Algo ha ido mal en la modificación!","error")})},remove(o){this.$swal({title:"¿Estas seguro?",text:"No podrás revertir esto!",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, elimínar!"}).then(n=>{n.value&&axios.delete(`/about/${o.id}`).then(i=>{console.log(i.data);const s=this.data.indexOf(o);this.data.splice(s,1),this.$swal("Buen trabajo!","Información eliminada con éxito!","success")}).catch(i=>{this.$swal("Lo sentimos!","Algo ha ido mal!","error")})})},initialize(){console.log("for each"),this.data.forEach(function(o){o.image="/storage/"+o.image,console.log(o.image)})},onFileChange(o){this.changedImage=!0;var n=document.getElementById(`imagen${o.id}`),i=n.files[0];console.log(i);const s=this.data.indexOf(o);let d=Object.assign({},o);d.image=window.URL.createObjectURL(i),Object.assign(this.data[s],d),console.log(this.data)}},watch:{viewAll(o){o?this.panel=[...Array(this.data.length).keys()].map((n,i)=>i):this.panel=[],console.log()}}};function W(o,n,i,s,d,u){const B=t("bread-crumbs"),U=t("v-toolbar-title"),m=t("v-spacer"),$=t("v-switch"),A=t("v-toolbar"),p=t("v-btn"),E=t("v-banner"),V=t("v-icon"),j=t("v-avatar"),L=t("v-expansion-panel-header"),w=t("v-card-title"),O=t("v-img"),F=t("v-file-input"),y=t("v-card-actions"),_=t("v-card"),f=t("v-col"),g=t("v-row"),v=t("v-text-field"),N=t("vue-editor"),C=t("v-card-text"),T=t("v-expansion-panel-content"),D=t("v-expansion-panel"),z=t("v-expansion-panels"),Q=t("v-container"),q=t("app-layout");return b(),k(q,null,{default:a(()=>[e(B,{name:"¿Quién soy?",items:d.items},null,8,["items"]),e(Q,{fluid:""},{default:a(()=>[e(_,{class:"rounded-0"},{default:a(()=>[e(A,{flat:""},{default:a(()=>[e(U,null,{default:a(()=>n[2]||(n[2]=[c("¿Quién soy?")])),_:1}),e(m),I("div",null,[e($,{modelValue:d.viewAll,"onUpdate:modelValue":n[0]||(n[0]=l=>d.viewAll=l),label:"Expandir todos","hide-details":""},null,8,["modelValue"])])]),_:1}),e(E,null,{actions:a(()=>[e(p,{text:"",color:"deep-purple accent-4",onClick:u.add},{default:a(()=>n[3]||(n[3]=[c(" Agregar Item ")])),_:1},8,["onClick"])]),default:a(()=>[n[4]||(n[4]=c(" En esta sesión esta a disponibilidad del usuario registrar la información pertinente en cada item. recuerda dar click en la opción que deseas editar o puedes mostrar todos "))]),_:1}),e(C,{class:"grey lighten-4"},{default:a(()=>[e(g,{justify:"center"},{default:a(()=>[e(z,{popout:"",focusable:"",modelValue:d.panel,"onUpdate:modelValue":n[1]||(n[1]=l=>d.panel=l),multiple:""},{default:a(()=>[(b(!0),M(H,null,J(i.data,(l,h)=>(b(),k(D,{key:h,onClick:r=>u.dimensionar(`panelInterno${h}`),id:`panelInterno${h}`},{default:a(()=>[e(L,null,{default:a(()=>[I("span",null,[e(j,{size:"36",color:"grey lighten-2"},{default:a(()=>[e(V,{dark:"",color:"grey darken-3"},{default:a(()=>[c(x(l.icon),1)]),_:2},1024)]),_:2},1024),c(" "+x(l.name),1)])]),_:2},1024),e(T,null,{default:a(()=>[e(_,{outlined:"",class:"mt-5"},{default:a(()=>[e(w,{"primary-title":""},{default:a(()=>[e(m),e(p,{icon:"",color:"red light",onClick:r=>u.remove(l)},{default:a(()=>[e(V,null,{default:a(()=>n[5]||(n[5]=[c("mdi-delete")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024),e(w),e(g,{align:"center",justify:"center"},{default:a(()=>[e(f,{cols:"12",sm:"8",md:"4"},{default:a(()=>[c(x(l.image)+" ",1),e(_,{class:"elevation-12"},{default:a(()=>[e(O,{height:"300px",src:l.image},null,8,["src"]),e(y,null,{default:a(()=>[e(F,{id:`imagen${l.id}`,label:"Elige una imagen","prepend-icon":"mdi-camera",onChange:r=>u.onFileChange(l)},null,8,["id","onChange"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),e(C,null,{default:a(()=>[e(v,{modelValue:l.title,"onUpdate:modelValue":r=>l.title=r,label:"Titulo"},null,8,["modelValue","onUpdate:modelValue"]),n[6]||(n[6]=c(" Contenido ")),e(N,{ref_for:!0,ref:"myTextEditor",modelValue:l.content,"onUpdate:modelValue":r=>l.content=r},null,8,["modelValue","onUpdate:modelValue"]),e(g,null,{default:a(()=>[e(f,null,{default:a(()=>[e(v,{modelValue:l.icon,"onUpdate:modelValue":r=>l.icon=r,label:"Icono"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),e(f,null,{default:a(()=>[e(v,{modelValue:l.name,"onUpdate:modelValue":r=>l.name=r,label:"Nombre"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1024),e(y,null,{default:a(()=>[e(m),e(p,{color:"primary",onClick:r=>u.edit(l)},{default:a(()=>n[7]||(n[7]=[c(" Guardar Cambios ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick","id"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const ae=G(K,[["render",W]]);export{ae as default};
