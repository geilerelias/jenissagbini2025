import{L as C,B as y}from"./index-C8RjSA2R.js";import{C as x,p as w,a as D,b as B,c as h,d as L,e as T,f as $,P as q}from"./chart-CjyxB0rl.js";import{_ as A}from"./AdminLayout-0bKsuqSC.js";import{g as u,y as E,c as I,o as M,w as l,b as a,u as t,$ as N,a as P,a0 as f,a1 as n,a2 as d,a3 as r,i as o,a4 as g,t as b,a5 as S}from"./app-BOimrL6G.js";import"./Logo-C4qPAGx8.js";import"./SettingsDropdown-sI980SZw.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./aos-Be9VoEg5.js";import"./Breadcrumbs-DZKACuQP.js";const O={__name:"Index",setup(W){x.register(w,D,B,h,L,T,$,q);const m=u([]),p=u([]),_=u([]),c=u(0),v=u(0),V=u([]);E(async()=>{const i=await fetch("/api/stats").then(e=>e.json()),s=await fetch("/api/visitors").then(e=>e.json());m.value=i.daily,p.value=i.weekly,_.value=i.monthly,c.value=i.unique_ips,v.value=i.avg_duration,V.value=s});const k=i=>{const s=Math.floor(i/60),e=i%60;return`${s}m ${e}s`};return(i,s)=>(M(),I(A,null,{default:l(()=>[a(t(N),{fluid:""},{default:l(()=>[s[6]||(s[6]=P("h1",{class:"text-h4 mb-6"},"Website Analytics",-1)),a(t(f),null,{default:l(()=>[a(t(n),{cols:"12",md:"6",lg:"3"},{default:l(()=>[a(t(d),{color:"primary",class:"pa-4 text-white"},{default:l(()=>[a(t(r),null,{default:l(()=>s[0]||(s[0]=[o("Unique Visitors")])),_:1}),a(t(g),{class:"text-h5"},{default:l(()=>[o(b(c.value),1)]),_:1})]),_:1})]),_:1}),a(t(n),{cols:"12",md:"6",lg:"3"},{default:l(()=>[a(t(d),{color:"indigo",class:"pa-4 text-white"},{default:l(()=>[a(t(r),null,{default:l(()=>s[1]||(s[1]=[o("Avg. Duration")])),_:1}),a(t(g),{class:"text-h5"},{default:l(()=>[o(b(k(v.value)),1)]),_:1})]),_:1})]),_:1})]),_:1}),a(t(f),null,{default:l(()=>[a(t(n),{cols:"12",md:"6"},{default:l(()=>[a(t(d),{class:"pa-4"},{default:l(()=>[a(t(r),null,{default:l(()=>s[2]||(s[2]=[o("Daily Visits")])),_:1}),a(t(C),{data:{labels:m.value.map(e=>e.date),datasets:[{label:"Visits",data:m.value.map(e=>e.total),borderColor:"#3f51b5"}]}},null,8,["data"])]),_:1})]),_:1}),a(t(n),{cols:"12",md:"6"},{default:l(()=>[a(t(d),{class:"pa-4"},{default:l(()=>[a(t(r),null,{default:l(()=>s[3]||(s[3]=[o("Weekly Visits")])),_:1}),a(t(y),{data:{labels:p.value.map(e=>"Week "+e.week),datasets:[{label:"Visits",data:p.value.map(e=>e.total),backgroundColor:"#2196f3"}]}},null,8,["data"])]),_:1})]),_:1})]),_:1}),a(t(f),null,{default:l(()=>[a(t(n),{cols:"12"},{default:l(()=>[a(t(d),{class:"pa-4"},{default:l(()=>[a(t(r),null,{default:l(()=>s[4]||(s[4]=[o("Monthly Visits")])),_:1}),a(t(y),{data:{labels:_.value.map(e=>e.month),datasets:[{label:"Visits",data:_.value.map(e=>e.total),backgroundColor:"#4caf50"}]}},null,8,["data"])]),_:1})]),_:1})]),_:1}),a(t(f),{class:"mt-6"},{default:l(()=>[a(t(n),{cols:"12"},{default:l(()=>[a(t(d),null,{default:l(()=>[a(t(r),null,{default:l(()=>s[5]||(s[5]=[o("Visitors")])),_:1}),a(t(S),{headers:[{title:"IP Address",key:"ip_address"},{title:"Visits",key:"total_visits"},{title:"Last Visit",key:"last_visit"}],items:V.value,class:"elevation-1"},null,8,["items"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}};export{O as default};
