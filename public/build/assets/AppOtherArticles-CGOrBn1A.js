import x from"./AddOtherArticle-CJoolUr9.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{l as d,c as k,o as E,w as l,b as o,a as V,i as s}from"./app-BOimrL6G.js";const B={components:{"add-other-article":x},data:()=>({dialog2:!1,notifications:!1,sound:!0,widgets:!1,viewDocument:!1,dialog:!1,headers:[{text:"Id",align:"left",sortable:!1,value:"id"},{text:"Titulo",value:"title"},{text:"Descripción",value:"description"},{text:"Accion",align:"left",sortable:!1,value:"action"}],items:[{text:"Dashboard",disabled:!1,href:"/dashboard"},{text:"Artículos",disabled:!1,href:"/dashboard/articles"},{text:"Otros Artículos",disabled:!0,href:"#"}],othersArticles:[],editedIndex:-1,editedItem:{id:"",title:"",description:"",file:null},defaultItem:{id:"",title:"",description:"",file:null},search:""}),computed:{formTitle(){return this.editedIndex===-1?"Nuevo Item":"Editar Item"}},mounted(){this.initialize()},methods:{initialize(){this.othersArticles=[{id:"0",title:"Ejemplo de otro articulo",description:"Este es el ejemplo de otro articulo",file:"",created_at:"2019-10-11 03:09:46",updated_at:"2019-10-11 03:09:46"}],this.axios.get("/api/othersArticle").then(e=>{this.othersArticles=this.othersArticles.concat(e.data)}).catch(e=>{console.log(e)})},editItem(e){console.log("this is item: ",e),this.editedIndex=this.othersArticles.indexOf(e),console.log(this.editedIndex),this.editedItem=Object.assign({},e),console.log(this.editedItem),this.dialog=!0},deleteItem(e){const t=this.othersArticles.indexOf(e);Swal.fire({title:"Estás seguro?",html:`Eliminar <b>${e.title}</b>, No podrás revertir esto!`,type:"warning",showCancelButton:!0,confirmButtonColor:"#424242",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar!"}).then(u=>{console.log("item.id",e.id),u.value&&axios.delete(`/api/othersArticle/${e.id}`).then(a=>{Swal.fire("Eliminado!","Eliminado correctamente.","success"),this.othersArticles.splice(t,1)}).catch(a=>{Swal.fire("Oops...","Algo salió mal! "+a,"error")})})}}};function T(e,t,u,a,$,n){const c=d("v-breadcrumbs"),r=d("v-icon"),m=d("v-btn"),p=d("v-toolbar-title"),v=d("v-divider"),h=d("v-text-field"),g=d("v-toolbar"),I=d("v-data-table"),f=d("v-card"),b=d("add-other-article"),A=d("v-dialog"),_=d("v-row"),w=d("v-app");return E(),k(w,null,{default:l(()=>[o(c,{items:e.items},null,8,["items"]),o(f,null,{default:l(()=>[o(g,{dark:"",flat:""},{default:l(()=>[o(m,{icon:"",onClick:t[0]||(t[0]=i=>e.$router.push({name:"articles/main"}))},{default:l(()=>[o(r,null,{default:l(()=>t[9]||(t[9]=[s("mdi-arrow-left")])),_:1})]),_:1}),o(p,null,{default:l(()=>t[10]||(t[10]=[s("Otros Artículos")])),_:1}),o(v,{class:"mx-4",inset:"",vertical:""}),t[12]||(t[12]=V("div",{class:"flex-grow-1"},null,-1)),o(h,{"max-width":"200",modelValue:e.search,"onUpdate:modelValue":t[1]||(t[1]=i=>e.search=i),"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),o(m,{icon:"",onClick:t[2]||(t[2]=i=>e.dialog=!e.dialog)},{default:l(()=>[o(r,null,{default:l(()=>t[11]||(t[11]=[s("mdi-plus-circle")])),_:1})]),_:1})]),_:1}),o(I,{search:e.search,headers:e.headers,items:e.othersArticles,class:"elevation-1"},{"item.action":l(({item:i})=>[o(r,{small:"",class:"mr-2",onClick:C=>n.editItem(i)},{default:l(()=>t[13]||(t[13]=[s(" mdi-pencil ")])),_:2},1032,["onClick"]),o(r,{small:"",onClick:C=>n.deleteItem(i)},{default:l(()=>t[14]||(t[14]=[s(" mdi-delete ")])),_:2},1032,["onClick"])]),"no-data":l(()=>[o(m,{color:"primary",onClick:n.initialize},{default:l(()=>t[15]||(t[15]=[s("Reset")])),_:1},8,["onClick"])]),_:1},8,["search","headers","items"])]),_:1}),o(_,{justify:"center"},{default:l(()=>[o(A,{modelValue:e.dialog,"onUpdate:modelValue":t[8]||(t[8]=i=>e.dialog=i),fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},{default:l(()=>[o(f,null,{default:l(()=>[o(b,{formTitle:n.formTitle,editedItem:e.editedItem,editedIndex:e.editedIndex,idItem:e.othersArticles[e.editedIndex],onUpdateArrayOfOthersArticles:t[3]||(t[3]=i=>Object.assign(e.othersArticles[e.index],i)),onAddOthersArticles:t[4]||(t[4]=i=>e.othersArticles.push(i)),onCloseDialog:t[5]||(t[5]=i=>e.dialog=i),onEditedItem:t[6]||(t[6]=i=>e.editedItem=i),onEditedIndex:t[7]||(t[7]=i=>e.editedIndex=i)},null,8,["formTitle","editedItem","editedIndex","idItem"])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})}const S=O(B,[["render",T]]);export{S as default};
