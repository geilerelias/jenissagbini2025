import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{l as o,c as _,o as P,w as t,b as l,a as p,i as n,t as q,z as D,A as $}from"./app-BOimrL6G.js";const K={data:()=>({overlay:!1,menu:!1,dialog:!1,headers:[{text:"Id",align:"left",sortable:!1,value:"id"},{text:"Titulo",value:"title"},{text:"País",value:"country"},{text:"Año",value:"year"},{text:"Descripción",value:"description"},{text:"ISBN",value:"isbn"},{text:"Ed",value:"ed"},{text:"Enlace",value:"link"},{text:"Accion",align:"left",sortable:!1,value:"action"}],items:[{text:"Dashboard",disabled:!1,href:"/dashboard"},{text:"Artículos",disabled:!1,href:"/dashboard/articles"},{text:"Artículos publicados",disabled:!0,href:"#"}],publishedArticles:[],editedIndex:-1,editedItem:{id:"",title:"",description:"",year:"",country:"",isbn:"",ed:"",link:"",file:null},defaultItem:{id:"",title:"",description:"",year:"",country:"",isbn:"",ed:"",link:"",file:null},search:"",valid:!0,titleRules:[e=>!!e||"Titulo es requerido"],yearRules:[e=>!!e||"Año es requerido"],countryRules:[e=>!!e||"País promotor es requerido"],descriptionRules:[e=>!!e||"Descripción es requerida"],linkRules:[e=>/^(http|https)/.test(e)||"Enlace no valido"],lazy:!1,countries:new Array("Afghanistan","Albania","Algeria","Andorra","Angola","Antarctica","Antigua and Barbuda","Argentina","Armenia","Australia","Austria","Azerbaijan","Bahamas","Bahrain","Bangladesh","Barbados","Belarus","Belgium","Belize","Benin","Bermuda","Bhutan","Bolivia","Bosnia and Herzegovina","Botswana","Brazil","Brunei","Bulgaria","Burkina Faso","Burma","Burundi","Cambodia","Cameroon","Canada","Cape Verde","Central African Republic","Chad","Chile","China","Colombia","Comoros","Congo, Democratic Republic","Congo, Republic of the","Costa Rica","Cote d'Ivoire","Croatia","Cuba","Cyprus","Czech Republic","Denmark","Djibouti","Dominica","Dominican Republic","East Timor","Ecuador","Egypt","El Salvador","Equatorial Guinea","Eritrea","Estonia","Ethiopia","Fiji","Finland","France","Gabon","Gambia","Georgia","Germany","Ghana","Greece","Greenland","Grenada","Guatemala","Guinea","Guinea-Bissau","Guyana","Haiti","Honduras","Hong Kong","Hungary","Iceland","India","Indonesia","Iran","Iraq","Ireland","Israel","Italy","Jamaica","Japan","Jordan","Kazakhstan","Kenya","Kiribati","Korea, North","Korea, South","Kuwait","Kyrgyzstan","Laos","Latvia","Lebanon","Lesotho","Liberia","Libya","Liechtenstein","Lithuania","Luxembourg","Macedonia","Madagascar","Malawi","Malaysia","Maldives","Mali","Malta","Marshall Islands","Mauritania","Mauritius","Mexico","Micronesia","Moldova","Mongolia","Morocco","Monaco","Mozambique","Namibia","Nauru","Nepal","Netherlands","New Zealand","Nicaragua","Niger","Nigeria","Norway","Oman","Pakistan","Panama","Papua New Guinea","Paraguay","Peru","Philippines","Poland","Portugal","Qatar","Romania","Russia","Rwanda","Samoa","San Marino"," Sao Tome","Saudi Arabia","Senegal","Serbia and Montenegro","Seychelles","Sierra Leone","Singapore","Slovakia","Slovenia","Solomon Islands","Somalia","South Africa","Spain","Sri Lanka","Sudan","Suriname","Swaziland","Sweden","Switzerland","Syria","Taiwan","Tajikistan","Tanzania","Thailand","Togo","Tonga","Trinidad and Tobago","Tunisia","Turkey","Turkmenistan","Uganda","Ukraine","United Arab Emirates","United Kingdom","United States","Uruguay","Uzbekistan","Vanuatu","Venezuela","Vietnam","Yemen","Zambia","Zimbabwe")}),computed:{formTitle(){return this.editedIndex===-1?"Nuevo Item":"Editar Item"}},watch:{dialog(e){e||this.close()}},mounted(){this.initialize()},methods:{initialize(){this.publishedArticles=[{id:0,title:`
                                SISTEMA DE DIALOGO HUMANO ROBOT UTILIZANDO RAZONAMIENTO BASADO EN CASOS. LA INVESTIGACION APLICADA EN LA SOCIEAD DE LA INFORMACION INNOVACION Y DESARROLLO TECNOLÓGICO
                         `,description:`
                            Socializado en el CONGRESO INTERNACIONAL SOBRE TECNOLOGÌA E INNOVACIÒN+CIENCIA E INVESTIGACIÓN. BUENOS AIRES, ARGENTINA. 2018.
                        `,year:"2018-01",country:"Colombia",isbn:"9789585660847",ed:"CIMTED , v. , p.38 - 45  1 ,2018",link:"",file:null,created_at:"2019-10-11 03:09:46",updated_at:"2019-10-11 03:09:46"}],this.overlay=!0,this.axios.get("/api/publishedArticle").then(e=>{this.publishedArticles=this.publishedArticles.concat(e.data),this.overlay=!1}).catch(e=>{console.log(e),this.overlay=!1})},editItem(e){this.editedIndex=this.publishedArticles.indexOf(e),this.editedItem=Object.assign({},e),this.dialog=!0},deleteItem(e){const a=this.publishedArticles.indexOf(e);Swal.fire({title:"Estás seguro?",html:`Eliminar <b>${e.title}</b>, No podrás revertir esto!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#424242",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar!"}).then(u=>{console.log("item.id",e.id),u.value&&(this.overlay=!0,axios.delete(`/api/publishedArticle/${e.id}`).then(c=>{Swal.fire("Eliminado!","Eliminado correctamente.","success"),this.publishedArticles.splice(a,1),this.overlay=!1}).catch(c=>{Swal.fire("Oops...","Algo salió mal!"+c,"error"),this.overlay=!1}))})},close(){this.dialog=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},save(){if(this.validate())if(this.editedIndex>-1)this.edit();else{var e=new FormData;e.append("id",this.editedItem.id),e.append("title",this.editedItem.title),e.append("description",this.editedItem.description),e.append("year",this.editedItem.year),e.append("country",this.editedItem.country),e.append("isbn",this.editedItem.isbn),e.append("ed",this.editedItem.ed),e.append("link",this.editedItem.link),e.append("file",this.editedItem.file),this.overlay=!0,axios.post("/api/publishedArticle",e).then(a=>{const u=a.data;this.publishedArticles.push(u),Swal.fire("Buen trabajo! 😃","Registro Exitoso! ","success"),this.overlay=!1}).catch(a=>{console.error(a),this.overlay=!1}),this.close()}else Swal.fire({type:"error",title:"Oops...",text:"Campos no validados!"})},edit(){const e=this.editedItem,a=this.editedIndex,u=this.editedItem;this.overlay=!0,axios.put(`/api/publishedArticle/${this.publishedArticles[a].id}`,e).then(c=>{Object.assign(this.publishedArticles[a],u),Swal.fire("Buen trabajo!","Editado correctamente!","success"),this.close(),this.overlay=!1}).catch(c=>{Swal.fire({type:"error",title:"Oops...",text:"Algo salió mal!"}),this.overlay=!1})},validate(){return this.$refs.form.validate()?!0:(console.log("fallo la validacion"),!1)},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()}}},j={class:"text-center"};function x(e,a,u,c,F,r){const A=o("v-breadcrumbs"),v=o("v-icon"),d=o("v-btn"),b=o("v-toolbar-title"),h=o("v-divider"),m=o("v-text-field"),I=o("v-toolbar"),C=o("v-data-table"),g=o("v-card"),S=o("v-toolbar-items"),s=o("v-col"),V=o("v-autocomplete"),k=o("v-date-picker"),N=o("v-menu"),E=o("v-file-input"),w=o("v-textarea"),y=o("v-row"),O=o("v-form"),B=o("v-container"),R=o("v-card-text"),T=o("v-card-actions"),M=o("v-dialog"),U=o("v-progress-circular"),z=o("v-overlay"),G=o("v-app");return P(),_(G,null,{default:t(()=>[l(A,{items:e.items},null,8,["items"]),l(g,null,{default:t(()=>[l(I,{dark:"",flat:""},{default:t(()=>[l(d,{icon:"",onClick:a[0]||(a[0]=i=>e.$router.push({name:"articles/main"}))},{default:t(()=>[l(v,null,{default:t(()=>a[18]||(a[18]=[n("mdi-arrow-left")])),_:1})]),_:1}),l(b,null,{default:t(()=>a[19]||(a[19]=[n("Artículos publicados")])),_:1}),l(h,{class:"mx-4",inset:"",vertical:""}),a[21]||(a[21]=p("div",{class:"flex-grow-1"},null,-1)),l(m,{"max-width":"200",modelValue:e.search,"onUpdate:modelValue":a[1]||(a[1]=i=>e.search=i),"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),l(d,{icon:"",onClick:a[2]||(a[2]=i=>e.dialog=!e.dialog)},{default:t(()=>[l(v,null,{default:t(()=>a[20]||(a[20]=[n("mdi-plus-circle")])),_:1})]),_:1})]),_:1}),l(C,{search:e.search,headers:e.headers,items:e.publishedArticles,class:"elevation-1"},{"item.action":t(({item:i})=>[l(v,{small:"",class:"mr-2",onClick:f=>r.editItem(i)},{default:t(()=>a[22]||(a[22]=[n(" mdi-pencil ")])),_:2},1032,["onClick"]),l(v,{small:"",onClick:f=>r.deleteItem(i)},{default:t(()=>a[23]||(a[23]=[n(" mdi-delete ")])),_:2},1032,["onClick"])]),"no-data":t(()=>[l(d,{color:"primary",onClick:r.initialize},{default:t(()=>a[24]||(a[24]=[n("Reset")])),_:1},8,["onClick"])]),_:1},8,["search","headers","items"])]),_:1}),l(M,{modelValue:e.dialog,"onUpdate:modelValue":a[17]||(a[17]=i=>e.dialog=i),fullscreen:"","hide-this.overlay":"",transition:"dialog-bottom-transition"},{default:t(()=>[l(g,null,{default:t(()=>[l(I,{dark:""},{default:t(()=>[l(d,{icon:"",dark:"",onClick:a[3]||(a[3]=i=>e.dialog=!e.dialog)},{default:t(()=>[l(v,null,{default:t(()=>a[25]||(a[25]=[n("mdi-close")])),_:1})]),_:1}),l(b,{class:"headline"},{default:t(()=>[n(q(r.formTitle),1)]),_:1}),a[27]||(a[27]=p("div",{class:"flex-grow-1"},null,-1)),l(S,null,{default:t(()=>[l(d,{text:"",disabled:!e.valid,class:"mr-4",onClick:r.validate},{default:t(()=>a[26]||(a[26]=[n(" Registrar ")])),_:1},8,["disabled","onClick"])]),_:1})]),_:1}),l(R,null,{default:t(()=>[l(B,{fluid:""},{default:t(()=>[l(O,{ref:"form",modelValue:e.valid,"onUpdate:modelValue":a[16]||(a[16]=i=>e.valid=i),"lazy-validation":e.lazy},{default:t(()=>[l(y,null,{default:t(()=>[l(s,{cols:"12"},{default:t(()=>[l(m,{clearable:"",modelValue:e.editedItem.title,"onUpdate:modelValue":a[4]||(a[4]=i=>e.editedItem.title=i),rules:e.titleRules,label:"Titulo",required:""},null,8,["modelValue","rules"])]),_:1}),l(s,{cols:"12",sm:"6",md:"4"},{default:t(()=>[l(V,{clearable:"",modelValue:e.editedItem.country,"onUpdate:modelValue":a[5]||(a[5]=i=>e.editedItem.country=i),rules:e.countryRules,items:e.countries,"menu-props":{top:!1,offsetY:!0},label:"País",required:""},null,8,["modelValue","rules","items"])]),_:1}),l(s,{cols:"12",sm:"6",md:"4"},{default:t(()=>[l(N,{ref:"menu",modelValue:e.menu,"onUpdate:modelValue":a[10]||(a[10]=i=>e.menu=i),"close-on-content-click":!1,"return-value":e.editedItem.year,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},{activator:t(({on:i})=>[l(m,D({modelValue:e.editedItem.year,"onUpdate:modelValue":a[6]||(a[6]=f=>e.editedItem.year=f),rules:e.yearRules,label:"Fecha",readonly:""},$(i)),null,16,["modelValue","rules"])]),default:t(()=>[l(k,{modelValue:e.editedItem.year,"onUpdate:modelValue":a[9]||(a[9]=i=>e.editedItem.year=i),type:"month",locale:"es","no-title":"",scrollable:""},{default:t(()=>[a[30]||(a[30]=p("div",{class:"flex-grow-1"},null,-1)),l(d,{text:"",color:"primary",onClick:a[7]||(a[7]=i=>e.menu=!1)},{default:t(()=>a[28]||(a[28]=[n("Cancel")])),_:1}),l(d,{text:"",color:"primary",onClick:a[8]||(a[8]=i=>e.$refs.menu.save(e.editedItem.year))},{default:t(()=>a[29]||(a[29]=[n("OK")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1}),l(s,{cols:"12",sm:"6",md:"4"},{default:t(()=>[l(m,{clearable:"",modelValue:e.editedItem.isbn,"onUpdate:modelValue":a[11]||(a[11]=i=>e.editedItem.isbn=i),label:"ISBN",required:""},null,8,["modelValue"])]),_:1}),l(s,{cols:"12",sm:"4"},{default:t(()=>[l(m,{clearable:"",modelValue:e.editedItem.ed,"onUpdate:modelValue":a[12]||(a[12]=i=>e.editedItem.ed=i),label:"Ed",required:""},null,8,["modelValue"])]),_:1}),l(s,{cols:"12",sm:"4"},{default:t(()=>[l(m,{clearable:"",modelValue:e.editedItem.link,"onUpdate:modelValue":a[13]||(a[13]=i=>e.editedItem.link=i),label:"Enlace"},null,8,["modelValue"])]),_:1}),l(s,{cols:"12",sm:"4"},{default:t(()=>[l(E,{accept:"application/pdf",clearable:"",modelValue:e.editedItem.file,"onUpdate:modelValue":a[14]||(a[14]=i=>e.editedItem.file=i),label:"Subir archivo "},null,8,["modelValue"])]),_:1}),l(s,{cols:"12"},{default:t(()=>[l(w,{clearable:"",modelValue:e.editedItem.description,"onUpdate:modelValue":a[15]||(a[15]=i=>e.editedItem.description=i),rules:e.descriptionRules,label:"Descripción"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},8,["modelValue","lazy-validation"])]),_:1})]),_:1}),l(T,null,{default:t(()=>[a[34]||(a[34]=p("div",{class:"flex-grow-1"},null,-1)),l(d,{color:"warning",class:"mr-4",onClick:r.close},{default:t(()=>a[31]||(a[31]=[n(" Cancelar ")])),_:1},8,["onClick"]),l(d,{color:"error",class:"mr-4",onClick:r.reset},{default:t(()=>a[32]||(a[32]=[n(" Reiniciar ")])),_:1},8,["onClick"]),l(d,{disabled:!e.valid,color:"success",class:"mr-4",onClick:r.save},{default:t(()=>a[33]||(a[33]=[n(" Guardar ")])),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),p("div",j,[l(z,{opacity:.9,value:e.overlay},{default:t(()=>[l(y,{class:"mb-6","no-gutters":""},{default:t(()=>[l(s,{sm:"12"},{default:t(()=>[l(U,{indeterminate:"",size:"64"})]),_:1}),l(s,{class:"mt-5"},{default:t(()=>a[35]||(a[35]=[p("span",{class:"white--text"}," Un momento por favor, estamos procesando su solicitud ",-1)])),_:1})]),_:1})]),_:1},8,["value"])])]),_:1})}const J=L(K,[["render",x]]);export{J as default};
