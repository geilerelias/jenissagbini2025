import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{l as i,c as L,o as j,w as o,b as l,a as v,i as s,t as $,z as P,A as q}from"./app-BOimrL6G.js";const x={data:()=>({menu:!1,dialog:!1,headers:[{text:"Id",align:"left",sortable:!1,value:"id"},{text:"Titulo",value:"title"},{text:"Entidad",value:"entity"},{text:"A침o",value:"year"},{text:"Descripci칩n",value:"description"},{text:"Estado",value:"state"},{text:"Accion",align:"left",sortable:!1,value:"action"}],items:[{text:"Dashboard",disabled:!1,href:"/dashboard"},{text:"Proyectos",disabled:!1,href:"/dashboard/project"},{text:"Software Desarrollados",disabled:!0,href:"/dashboard/project/software"}],softwares:[],editedIndex:-1,editedItem:{id:"",title:"",description:"",year:"",entity:"",state:""},defaultItem:{id:"",title:"",description:"",year:"",entity:"",state:""},search:"",valid:!0,titleRules:[t=>!!t||"Titulo es requirido"],yearRules:[t=>!!t||"A침o es requerido"],entityRules:[t=>!!t||"Entidad promotora es requerida"],descriptionRules:[t=>!!t||"Descripci칩n es requerida"],stateRules:[t=>!!t||"Estado  es requerido"],states:["Abierto","Cerrado","Terminado"],lazy:!1}),computed:{formTitle(){return this.editedIndex===-1?"Nuevo Item":"Editar Item"}},watch:{dialog(t){t||this.close()}},mounted(){this.initialize()},methods:{initialize(){this.softwares=[{id:0,title:`
                            DISE칌O E IMPLEMENTACI칍N DE UN SOFTWARE DE GESTI칍N PARA EL MANEJO DE CITAS M칄DICAS E HISTORIAS CL칈NICAS EN
                            EL CONSULTORIO ESPECIALIZADO DEL DOCTOR HERN츼N AUGUSTO APONTE PENSO EN LA CIUDAD DE VALLEDUPAR.
                        `,description:`
                            Software para el sector salud, dirigido al Consultorio Particular de Neumolog칤a del Dr. Hern치n Augusto Aponte Penso que permite
                            administrar citas m칠dicas y manejo de la historia cl칤nica de pacientes. Desarrollado en lenguaje php y con el manejador de base
                            de datos MySQL, que es un sistema de gesti칩n de bases de datos relacional desarrollado bajo una Licencia p칰blica general y una
                            Licencia comercial por Oracle Corporation.
                        `,created_at:"2019-10-11 03:09:46",updated_at:"2019-10-11 03:09:46",year:"2016-01",entity:"Fundaci칩n Universitaria San Mart칤n.",state:"terminado"}],this.axios.get("/api/software").then(t=>{this.softwares=this.softwares.concat(t.data)}).catch(t=>{console.log(t)})},editItem(t){this.editedIndex=this.softwares.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem(t){const e=this.softwares.indexOf(t);Swal.fire({title:"Est치s seguro?",html:`Eliminar <b>${t.title}</b>, No podr치s revertir esto!`,type:"warning",showCancelButton:!0,confirmButtonColor:"#424242",cancelButtonColor:"#d33",confirmButtonText:"Si, Eliminar!"}).then(n=>{console.log("item.id",t.id),n.value&&axios.delete(`/api/software/${t.id}`).then(u=>{Swal.fire("Eliminado!","Eliminado correctamente.","success"),this.softwares.splice(e,1)}).catch(u=>{Swal.fire("Oops...","Algo sali칩 mal!"+u,"error")})})},close(){this.dialog=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},save(){if(this.validate())if(this.editedIndex>-1)this.edit();else{const t=this.editedItem;axios.post("/api/software",t).then(e=>{const n=e.data;this.softwares.push(n),Swal.fire("Buen trabajo! 游땎","Registro Exitoso! ","success")}).catch(e=>{console.error(e)}),this.close()}else Swal.fire({type:"error",title:"Oops...",text:"Campos no validados!"})},edit(){const t=this.editedItem,e=this.editedIndex,n=this.editedItem;axios.put(`/api/software/${this.softwares[e].id}`,t).then(u=>{Object.assign(this.softwares[e],n),Swal.fire("Buen trabajo!","Editado correctamente!","success"),this.close()}).catch(u=>{Swal.fire({type:"error",title:"Oops...",text:"Algo sali칩 mal!"})})},validate(){return this.$refs.form.validate()?!0:(console.log("fallo la validacion"),!1)},reset(){this.$refs.form.reset()},resetValidation(){this.$refs.form.resetValidation()}}};function B(t,e,n,u,z,r){const g=i("v-breadcrumbs"),m=i("v-icon"),d=i("v-btn"),b=i("v-toolbar-title"),y=i("v-divider"),p=i("v-text-field"),I=i("v-toolbar"),C=i("v-data-table"),w=i("v-card"),E=i("v-toolbar-items"),f=i("v-col"),V=i("v-date-picker"),S=i("v-menu"),k=i("v-select"),A=i("v-textarea"),O=i("v-row"),D=i("v-form"),R=i("v-container"),N=i("v-card-text"),T=i("v-card-actions"),U=i("v-dialog"),_=i("v-app");return j(),L(_,null,{default:o(()=>[l(g,{items:t.items},null,8,["items"]),l(w,null,{default:o(()=>[l(I,{dark:"",flat:""},{default:o(()=>[l(d,{icon:"",onClick:e[0]||(e[0]=a=>t.$router.push({name:"project/main"}))},{default:o(()=>[l(m,null,{default:o(()=>e[15]||(e[15]=[s("mdi-arrow-left")])),_:1})]),_:1}),l(b,null,{default:o(()=>e[16]||(e[16]=[s("Software Desarrollados")])),_:1}),l(y,{class:"mx-4",inset:"",vertical:""}),e[18]||(e[18]=v("div",{class:"flex-grow-1"},null,-1)),l(p,{"max-width":"200",modelValue:t.search,"onUpdate:modelValue":e[1]||(e[1]=a=>t.search=a),"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"]),l(d,{icon:"",onClick:e[2]||(e[2]=a=>t.dialog=!t.dialog)},{default:o(()=>[l(m,null,{default:o(()=>e[17]||(e[17]=[s("mdi-plus-circle")])),_:1})]),_:1})]),_:1}),l(C,{search:t.search,headers:t.headers,items:t.softwares,class:"elevation-1"},{"item.action":o(({item:a})=>[l(m,{small:"",class:"mr-2",onClick:c=>r.editItem(a)},{default:o(()=>e[19]||(e[19]=[s(" mdi-pencil ")])),_:2},1032,["onClick"]),l(m,{small:"",onClick:c=>r.deleteItem(a)},{default:o(()=>e[20]||(e[20]=[s(" mdi-delete ")])),_:2},1032,["onClick"])]),"no-data":o(()=>[l(d,{color:"primary",onClick:r.initialize},{default:o(()=>e[21]||(e[21]=[s("Reset")])),_:1},8,["onClick"])]),_:1},8,["search","headers","items"])]),_:1}),l(U,{modelValue:t.dialog,"onUpdate:modelValue":e[14]||(e[14]=a=>t.dialog=a),fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},{default:o(()=>[l(w,null,{default:o(()=>[l(I,{dark:""},{default:o(()=>[l(d,{icon:"",dark:"",onClick:e[3]||(e[3]=a=>t.dialog=!t.dialog)},{default:o(()=>[l(m,null,{default:o(()=>e[22]||(e[22]=[s("mdi-close")])),_:1})]),_:1}),l(b,{class:"headline"},{default:o(()=>[s($(r.formTitle),1)]),_:1}),e[24]||(e[24]=v("div",{class:"flex-grow-1"},null,-1)),l(E,null,{default:o(()=>[l(d,{text:"",disabled:!t.valid,class:"mr-4",onClick:r.validate},{default:o(()=>e[23]||(e[23]=[s(" Registrar ")])),_:1},8,["disabled","onClick"])]),_:1})]),_:1}),l(N,null,{default:o(()=>[l(R,{fluid:""},{default:o(()=>[l(D,{ref:"form",modelValue:t.valid,"onUpdate:modelValue":e[13]||(e[13]=a=>t.valid=a),"lazy-validation":t.lazy},{default:o(()=>[l(O,null,{default:o(()=>[l(f,{cols:"12",sm:"6",md:"4"},{default:o(()=>[l(p,{clearable:"",modelValue:t.editedItem.title,"onUpdate:modelValue":e[4]||(e[4]=a=>t.editedItem.title=a),rules:t.titleRules,label:"Titulo",required:""},null,8,["modelValue","rules"])]),_:1}),l(f,{cols:"12",sm:"6",md:"4"},{default:o(()=>[l(p,{clearable:"",modelValue:t.editedItem.entity,"onUpdate:modelValue":e[5]||(e[5]=a=>t.editedItem.entity=a),rules:t.entityRules,label:"Entidad promotora",required:""},null,8,["modelValue","rules"])]),_:1}),l(f,{cols:"12",sm:"6",md:"4"},{default:o(()=>[l(S,{ref:"menu",modelValue:t.menu,"onUpdate:modelValue":e[10]||(e[10]=a=>t.menu=a),"close-on-content-click":!1,"return-value":t.editedItem.year,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},{activator:o(({on:a})=>[l(p,P({modelValue:t.editedItem.year,"onUpdate:modelValue":e[6]||(e[6]=c=>t.editedItem.year=c),rules:t.yearRules,label:"Fecha",readonly:""},q(a)),null,16,["modelValue","rules"])]),default:o(()=>[l(V,{modelValue:t.editedItem.year,"onUpdate:modelValue":e[9]||(e[9]=a=>t.editedItem.year=a),type:"month",locale:"es","no-title":"",scrollable:""},{default:o(()=>[e[27]||(e[27]=v("div",{class:"flex-grow-1"},null,-1)),l(d,{text:"",color:"primary",onClick:e[7]||(e[7]=a=>t.menu=!1)},{default:o(()=>e[25]||(e[25]=[s("Cancel")])),_:1}),l(d,{text:"",color:"primary",onClick:e[8]||(e[8]=a=>t.$refs.menu.save(t.editedItem.year))},{default:o(()=>e[26]||(e[26]=[s("OK")])),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","return-value"])]),_:1}),l(f,{cols:"12",sm:"6",md:"4"},{default:o(()=>[l(k,{rules:t.stateRules,modelValue:t.editedItem.state,"onUpdate:modelValue":e[11]||(e[11]=a=>t.editedItem.state=a),items:t.states,"menu-props":{top:!0,offsetY:!0},label:"Estado"},null,8,["rules","modelValue","items"])]),_:1}),l(f,{cols:"12"},{default:o(()=>[l(A,{clearable:"",modelValue:t.editedItem.description,"onUpdate:modelValue":e[12]||(e[12]=a=>t.editedItem.description=a),rules:t.descriptionRules,label:"Descripci칩n"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},8,["modelValue","lazy-validation"])]),_:1})]),_:1}),l(T,null,{default:o(()=>[e[31]||(e[31]=v("div",{class:"flex-grow-1"},null,-1)),l(d,{color:"warning",class:"mr-4",onClick:r.close},{default:o(()=>e[28]||(e[28]=[s(" Cancelar ")])),_:1},8,["onClick"]),l(d,{color:"error",class:"mr-4",onClick:r.reset},{default:o(()=>e[29]||(e[29]=[s(" Reiniciar ")])),_:1},8,["onClick"]),l(d,{disabled:!t.valid,color:"success",class:"mr-4",onClick:r.save},{default:o(()=>e[30]||(e[30]=[s(" Guardar ")])),_:1},8,["disabled","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}const F=h(x,[["render",B]]);export{F as default};
