import{l as n,f as S,o as c,b as l,c as E,h as N,w as t,i as a,a as f,t as O,p as T,z as L,A as j}from"./app-BOimrL6G.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={props:["link"],data(){return{valid:!0,dialog:!1,headers:[{text:"Enlace",value:"link"},{text:"Actions",value:"action",sortable:!1}],links:[],linkRules:[i=>!!i||"el enlace es requerido",i=>/^(http|https)/.test(i)||"el enlace no es valido"],editedIndex:-1,editedItem:{link:""},defaultItem:{link:""}}},mounted:function(){if(typeof this.link>"u"){console.log("undefined");return}this.links=this.link},methods:{editItem(i){this.editedIndex=this.links.indexOf(i),this.editedItem=Object.assign({},i),this.dialog=!0},deleteAllItem(){this.links=[]},deleteItem(i){const e=this.links.indexOf(i);Swal.fire({title:"¿Estás seguro?",text:"No podrás revertir esto!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, eliminar!"}).then(m=>{m.value&&(this.links.splice(e,1),Swal.fire("Eliminada!","Su item ha sido eliminado.","success"))})},close(){this.dialog=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},save(){this.$refs.form.validate()&&(this.editedIndex>-1?(Object.assign(this.links[this.editedIndex],this.editedItem),this.$emit("addLink",this.links)):(this.links.push(this.editedItem),this.$emit("addLink",this.links)),this.close())}},watch:{dialog(i){i||this.close()}},computed:{formTitle(){return this.editedIndex===-1?"Nuevo enlace":"Editar enlace"},lengthLink(){return typeof this.link>"u"?(console.log("undefined"),0):this.link===null?0:(this.links=this.link,this.links.length)}}},U={class:"headline"};function R(i,e,m,q,s,d){const r=n("v-icon"),_=n("v-divider"),u=n("v-btn"),v=n("v-card-title"),k=n("v-text-field"),p=n("v-col"),h=n("v-row"),x=n("v-container"),g=n("v-card-text"),I=n("v-form"),b=n("v-card-actions"),C=n("v-card"),w=n("v-dialog"),V=n("v-banner"),y=n("v-data-table");return c(),S("div",null,[l(V,{"single-line":""},{actions:t(()=>[l(w,{modelValue:s.dialog,"onUpdate:modelValue":e[2]||(e[2]=o=>s.dialog=o),"max-width":"500px"},{activator:t(({on:o})=>[l(u,L({small:"",dark:""},j(o)),{default:t(()=>[l(r,null,{default:t(()=>e[4]||(e[4]=[a("mdi-link-plus")])),_:1})]),_:2},1040)]),default:t(()=>[l(C,null,{default:t(()=>[l(v,null,{default:t(()=>[f("span",U,O(d.formTitle),1)]),_:1}),l(I,{onSubmit:T(d.save,["prevent"]),ref:"form",modelValue:s.valid,"onUpdate:modelValue":e[1]||(e[1]=o=>s.valid=o),"lazy-validation":!0},{default:t(()=>[l(g,null,{default:t(()=>[l(x,null,{default:t(()=>[l(h,null,{default:t(()=>[l(p,{cols:"12"},{default:t(()=>[l(k,{modelValue:s.editedItem.link,"onUpdate:modelValue":e[0]||(e[0]=o=>s.editedItem.link=o),rules:s.linkRules,label:"Enlace"},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit","modelValue"]),l(b,null,{default:t(()=>[e[7]||(e[7]=f("div",{class:"flex-grow-1"},null,-1)),l(u,{color:"warning",onClick:d.close},{default:t(()=>e[5]||(e[5]=[a("Cancel")])),_:1},8,["onClick"]),l(u,{color:"success",onClick:d.save},{default:t(()=>e[6]||(e[6]=[a("Save")])),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),default:t(()=>[l(r,{icon:"mdi-lock",size:"40",color:"grey darken-1"},{default:t(()=>e[3]||(e[3]=[a(" mdi-link ")])),_:1}),e[8]||(e[8]=a(" Enlaces externos ")),l(_,{class:"mx-4",inset:"",vertical:""})]),_:1}),d.lengthLink!==0?(c(),E(y,{key:0,headers:s.headers,items:s.links,"sort-by":"calories",class:"elevation-1 mt-3"},{"item.action":t(({item:o})=>[l(r,{small:"",class:"mr-2",onClick:B=>d.editItem(o)},{default:t(()=>e[9]||(e[9]=[a(" mdi-pencil ")])),_:2},1032,["onClick"]),l(r,{small:"",onClick:B=>d.deleteItem(o)},{default:t(()=>e[10]||(e[10]=[a(" mdi-delete ")])),_:2},1032,["onClick"])]),_:1},8,["headers","items"])):N("",!0)])}const M=z(A,[["render",R]]);export{M as default};
